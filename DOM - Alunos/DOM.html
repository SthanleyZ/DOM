<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
</head>

<body onkeydown="key(event)">

    <nav>
        <div class="nav">
            <img src="logo-dark.png" alt="">

        </div>
    </nav>

    <section class="corpo">
        <div class="card">
            <header>
                <h1>Manipulando a DOM</h1>
            </header>
            <section class="cardBody">
                <div class="addR">
                    <ul class="list" id="list">
                        <h3>Remova e Adicione itens a lista </h3>
                        <li id="li1" class="list-item">Item 1</li>
                        <li class="list-item">Item 2</li>
                        <li class="list-item">Item 3</li>
                    </ul>
                    <div class="controles">
                        <button id="add" class="controle btn btnControl"> +</button>
                        <button id="tira" class="controle btn btnControl"> - </button>
                    </div>
                </div>
                <section class="clicks">
                    <h3>Evento de Click</h3>
                    <input id="input" type="checkbox">
                    <button id="change" class="btn">Click Me</button>
                </section>

                <section class="events">
                    <label>Escolha o Melhor Sorvete :
                        <select id="sorvete">
                            <option value="">Selecione…</option>
                            <option value="1">Morango</option>
                            <option value="2">Creme</option>
                            <option value="3">Chocolate</option>
                            <option value="4">Leite Ninho Trufado</option>
                        </select>
                    </label>

                    <div id="divAzul">

                    </div>
                </section>
            </section>
        </div>
    </section>
    <script>


        // Change
        var x = document.querySelector('#sorvete');
        x.addEventListener('change', function () {
            alert('O melhor Sorvete é: ' + x.options[x.selectedIndex].text)
        })


        // Add itens a lista 
        document.querySelector('#add').addEventListener('click', function () {
            var myLi = document.createElement('li');
            myLi.classList.add('list-item');
            myLi.innerText = 'Item ' + (document.getElementById('list').getElementsByClassName("list-item").length + 1);
            document.querySelector('.list-item:last-child').insertAdjacentHTML('afterend', myLi.outerHTML);
            cor();
        });

        document.querySelector('#tira').addEventListener('click', function () {
            if (document.getElementById('list').getElementsByClassName("list-item").length > 1) {
                document.querySelector('.list-item:last-child').remove()
            }
        });

        // HOVER
        function cor() {
            var lis = document.getElementsByClassName("list-item")
            for (var i = 0; i < lis.length; i++) {
                lis[i].addEventListener("mouseover", function () {
                    this.style.backgroundColor = '#3F51B5';
                    this.style.color = '#FFFFFF';
                });
                lis[i].addEventListener("mouseleave", function () {
                    this.style.backgroundColor = '#ECEFF1'
                    this.style.color = '#444';
                });
            };

        }
        cor();

        // Mudar atributo usando eventos
        function input() {
            document.querySelector('#change').addEventListener('click', function () {

                if (document.getElementById('input').type == 'checkbox') {
                    document.querySelector('input').setAttribute('type', 'radio');
                } else {
                    document.querySelector('input').setAttribute('type', 'checkbox');

                };
            });
        };
        input();

        function key(event) {
            let x = event.keyCode;
            // console.log(x)
            if (x == 65) {
                const myDiv = document.createElement('div');
                myDiv.classList.add('blueBlock');
                document.getElementById('divAzul').innerHTML = myDiv.outerHTML;
                document.querySelector('.blueBlock').style.backgroundColor = '#3F51B5';
                document.querySelector('.blueBlock').style.width = '800px';
                document.querySelector('.blueBlock').style.height = '200px';

            } else if (document.querySelector('.blueBlock') != null && x == 82) {
                document.querySelector('.blueBlock').remove();


            };
        };

//         document.querySelector('#eu').addEventListener('keyup',function(){
// 	console.log(this.value)
// });



// Exemplo
// document.querySelector('input').addEventListener('keyup',function(event){
// 	if(event.keyCode == 13){
// 		if(this.value !== ''){
// 			this.style.backgroundColor = 'green'
// 	}else{
// 	    this.style.backgroundColor = 'red'
// 		}
// 	}	
	
//  });
    </script>
</body>

</html>